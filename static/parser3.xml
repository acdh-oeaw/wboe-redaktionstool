<?xml version="1.0" encoding="UTF-8"?>
<objParser>
	<xmlParserHeader>
		&lt;?xml version="1.0" encoding="UTF-8"?&gt;
		&lt;?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_all.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?&gt;
		&lt;?xml-model href="../803_RNG-schematron/WBOE-ODD.rnc" type="application/relax-ng-compact-syntax"?&gt;
	</xmlParserHeader>
	<objParserContent>
		<TEI xmlns="http://www.tei-c.org/ns/1.0">
			<!-- ToDo: possibleAfterIds ?!?
				"tag": {
					"possibleAfterIds": [
						{ "id": "test", "use": true, "prefered": true }
					]
				}
			-->
			<test>
				<?options {
										"tag": ["possibleTag"]
									} ?>
				<test>
					<?options {
											"tag": ["anywhere"]
										} ?>
					<test3></test3>
				</test>
				<test>
					<test1></test1>
				</test>
				<test>
					<?options {
											"tag": ["anywhere"]
										} ?>
					<test2></test2>
				</test>
			</test>
			<teiHeader>
				<?options { "title": "Kopfzeile" } ?>
				<fileDesc>
					<titleStmt>
						<title>
							<?options {
													"id": "title",
													"title": "Titel",
													"value": ["edit", {"required": {"use": true}}]
												} ?>
						</title>
						<respStmt>
							<resp>
								<?options {
									"value": {
										"is": {
											"value": "Editor",
											"use": true,
											"possibleValues": ["Editor", "article editor"]
										}
									}
								} ?>
							</resp>
							<name>
								<?options {
														"value": ["variable", "required"]
													} ?>
							</name>
						</respStmt>
						<respStmt>
							<resp>
								<?options {
									"value": {
										"is": {
											"value": "Encoding Scheme",
											"use": true,
											"possibleValues": ["Encoding Scheme", "encoding"]
										}
									}
								} ?>
							</resp>
							<name>Jack Bowers</name>
							<name>Daniel Schopper</name>
							<name>Omar Siam</name>
						</respStmt>
						<respStmt>
							<resp>DBOE Team</resp>
							<name>
								<?options {
														"title": "Name",
														"attributes": [{"xml:id": {"type": "variable"}}],
														"value": ["variable", "required"]
													} ?>
								<?for [
												{"attributes": { "xml:id": "AL"  }, "value": "Alexandra N. Lenz"},
												{"attributes": { "xml:id": "PhS" }, "value": "Philip StÃ¶ckle"},
												{"attributes": { "xml:id": "AG"  }, "value": "Andreas Gellan"},
												{"attributes": { "xml:id": "PZ"  }, "value": "Patrick Zeithuber"},
												{"attributes": { "xml:id": "SW"  }, "value": "Sabine Wahl"},
												{"attributes": { "xml:id": "SS"  }, "value": "Sonja Schwaiger"},
												{"attributes": { "xml:id": "JD"  }, "value": "Jan Braun"},
												{"attributes": { "xml:id": "AB"  }, "value": "Angela Bergmayer"}
											] ?>
							</name>
						</respStmt>
						<respStmt>
							<resp>
								<?options {
									"value": {
										"is": {
											"value": "Editor",
											"use": true,
											"possibleValues": ["Student assistants", "student assistants"]
										}
									}
								} ?>
							</resp>
							<name>
								<?options {
														"title": "Name",
														"value": ["variable", "required"],
														"tag": ["multiple"]
													} ?>
							</name>
						</respStmt>
					</titleStmt>
					<publicationStmt>
						<?options {
												"value": ["edit", "innerText"]
											} ?>
					</publicationStmt>
					<sourceDesc>
						<?options {
												"value": ["edit", "innerText"]
											} ?>
					</sourceDesc>
				</fileDesc>
			</teiHeader>
			<text>
				<body>
					<entry>
						<?options {
												"title": "Eintrag",
												"attributes": [{"n": {"type": "edit", "valueType": "num+", "canBeEmpty": {"use": true}}}]
											} ?>
						<form>
							<?options {
													"attributes": [{"type": {"type": "edit", "canBeEmpty": {"use": true}, "possibleValues": ["lemma", "variant"]}}],
													"tag": ["multiple"]
												} ?>
							<pron>
								<?options {
														"title": "Pron",
														"value": ["edit", "required"],
														"tag": ["possibleTag"]
													} ?>
							</pron>
							<?copy { "fromId": "orth", "options": { "tag": ["multiple"] } } ?>
            </form>
						<gramGrp>
							<?options {
													"title": "Gram Guppe"
												} ?>
							<iType>
								<?options {
  													"title": "iType",
  													"value": ["variable", "required"],
														"tag": ["possibleTag"]
  												} ?>
							</iType>
              <gram type="pos">
								<?options {
  													"title": "Gram Pos",
  													"value": ["variable", "required"],
														"tag": ["possibleTag"]
  												} ?>
							</gram>
              <?copy {"fromId": "gram-gender"} ?><!-- Formatting Rule: wrap value of //gram[@type='gender'] in brackets -->
            </gramGrp>
						<form type="variant" subtype="diminutive"><!-- ISSUE: THESE CAN'T BE NESTED IN "LEMMA" BECAUSE THERE ARE TWO LEMMAS,  AND THEY ARE NOT ADJECENT TO EACH OF THEIR RESPECTIVE FORMS -->
							<?options {
													"title": "Form Variant Diminutive",
													"attributes": [{
														"xml:id": {"type": "variable", "canBeEmpty": {"use": true}}
													}],
													"tag": ["multiple", "possibleTag"]
												} ?><!-- Formatting Rule: (Subheading)  "Verbreitung": before the first instance of: /entry/usg[@type = "geo"] -->
							<?copy { "fromId": "orth", "options": { "tag": ["multiple"] } } ?>
							<gramGrp> <!-- Formatting Rule: after (final) //form[@subtype='diminutive'], print in brackets "(" "Diminutiv" comma "," value of /gram[@type='gender'] ")"-->
								<?copy {"fromId": "gram-gender"} ?>
							</gramGrp>
							<!-- Formatting Rule: if two consecutive //form contain the same value of /form/gramGrp/gram[@type='gender'], only print the second  -->
						</form>

            <!-- Formatting Rule: insert semicolon ";" between each: /entry/usg[@type="geo"] -->
						<?copy { "fromId": "usg-geo" } ?>
						<!-- Note: editor can replace <placeName type="grossregion"> with <placeName type="region"> if needed -->

						<!-- Formatting Rule: (Subheading)  "Belegauswahl": before the first form[@type = "lautung"] -->
            <!-- Formatting Rule: (Subheading)  "Datenbankbbeleg (exempl.)": before the first form[@type = "lautung"] -->
            <!-- Formatting Rule: surround /entry/form/usg[@type="geo"] contents with brackets "(" ")" -->

						<form type="variant">	<!-- Formatting Rule: semicolon between <form type="variant">'s -->		<!-- Formatting Rule: /form/pron in italics -->
							<?options {
													"title": "Form Variant",
													"attributes": [{
														"xml:id": {"type": "edit", "canBeEmpty": {"use": true}},
														"subtype": {"type": "edit", "canBeEmpty": {"use": true}, "possibleValues": ["diminutive"]}
													}],
													"tag": ["multiple"]
												} ?>
							 <pron xml:lang="bar-AT">
								 <?options {
 														"title": "Pron bar-AT",
														"attributes": [{
															"extent": {"type": "edit", "canBeEmpty": {"use": true}, "possibleValues": ["stuff"]}
														}],
 														"value": ["variable", "required"]
 													} ?>
							 </pron>
							 <?copy { "fromId": "usg-geo" } ?>
						</form>

						<!-- Formatting Rule: print "Etymologie" before <etym> -->
            <!-- Formatting Rule: surround contents of <def> with single quotes (both in <sense> and in <etym>) -->
            <!-- Formatting Rule:  enter comma after <def> where //cit/desc -->
            <!--Formatting Rule:  add colon betweeen: (/date  or /edition>) and /citedRange within /bibl -->
						<etym>
							<date>
								<?options {
														"title": "Desc",
														"value": ["edit", "required"],
														"tag": ["possibleTag"]
													} ?>
							</date>
							<desc>
								<?options {
														"title": "Desc",
														"value": ["edit", "required"],
														"tag": ["possibleTag"]
													} ?>
							</desc>
              <cit type="etymon">
								<?options {
														"title": "Cit Etymon",
														"attributes": [{
															"xml:lang": {"type": "variable", "canBeEmpty": {"use": true}, "possibleValues": ["nds-x-NHD"]}
														}],
														"tag": ["multiple"]
													} ?>
								<oRef>
									<?options {
															"title": "Desc",
															"value": ["edit", "required"],
															"tag": ["possibleTag"]
														} ?>
								</oRef><!-- what language? "ba" -->
              	<lang>
									<?options {
  														"title": "Lang",
  														"value": ["variable", "required"],
															"tag": ["possibleTag"]
  													} ?>
								</lang>
              	<form>
									<?options {
															"title": "Form",
															"tag": ["possibleTag"]
														} ?>
									 <?copy { "fromId": "orth", "options": { "tag": ["multiple"] } } ?>
              	</form>
                <def>
									<?options {
  														"title": "Def",
  														"value": ["variable", "required"]
  													} ?>
								</def>
              </cit>
              <!-- Formatting Rule: print bibl title & year "Lexer 1878 III" in small caps with colon followed by page number (value of <citedRange>) all wrapped in brackets "(" ")"  -->
							<?copy {"fromId": "ref-bibl"} ?>
            </etym>
						<!-- Formatting Rule: Print "Bedeutung" (project should only have one or the other!) -->
            <!-- Formatting Rule: where (2...n) <sense> for each print number in roman numerals with period -->
            <!-- Formatting Rule: where (2...n) <def> 's in <sense> before each print number in arabic numerals with period -->
            <!-- Formatting Rule: surround contents of <def> with single quotes (both in <sense> and in <etym>) -->
            <!--Formatting Rule: letter spacing within def should be 1 pt -->
            <!-- Formatting Rule: <cit type="example"><quote> in italics -->
            <!-- Formatting Rule: surround <cit type="example"><usg type="geo"> contents with brackets "(" ")" -->
            <!-- Formatting Rule: add a long dash before each //cit[@type="example"]  -->
						<sense>
							<?options {
													"title": "Sense > Sense",
													"tag": ["multiple"]
												} ?>
							<?copy { "fromId": "sense" } ?>
						</sense>
						<?copy { "fromId": "sense" } ?>
						<!-- Formatting Rule: before variant in Wortbildung surround form with brackets and print 'auch' before form -->
						<!-- Formatting Rule: insert "Wortbildung" before first <re> (same label for: compound, derivations, suffixes  -->
						<!-- Formatting Rule: <cit type="example"><quote> in italics -->
						<!-- Formatting Rule: surround <cit type="example"><usg type="geo"> contents with brackets "(" ")" -->
						<!-- Formatting Rule: add a long dash before each //cit[@type="example"]  -->
						<!-- Formatting Rule: <re><orth> in italics -->
						<!-- Formatting Rule: surround contents of <def> with single quotes (both in <sense> and in <etym>) -->
						<re>
							<?options {
													"title": "Re",
													"tag": ["multiple"]
												} ?>
							<form type="lemma">
								<?options {
														"title": "Form Lemma",
														"attributes": [{
															"subtype": {"type": "variable", "canBeEmpty": {"use": true}, "possibleValues": ["compound", "MWE"]}
														}]
													} ?>
								<?copy { "fromId": "orth" } ?>
							</form>
							<sense>
								<?options {
														"title": "Form Lemma",
														"tag": ["possibleTag"]
													} ?>
								<def>
									<?options {
															"title": "Def",
															"value": ["edit", "required"],
															"tag": ["possibleTag"]
														} ?>
								</def>
								<!-- formatting Rule: wrap /usg[@type="dom"] in brackets -->
								<usg>
									<?options {
															"title": "Usg Dom",
															"attributes": [{
																"type": {"type": "variable", "canBeEmpty": {"use": true}, "possibleValues": ["dom", "reg"]}
															}],
															"value": ["edit", "required"],
															"tag": ["possibleTag"]
														} ?>
								</usg>
							</sense>
							<?copy { "fromId": "usg-geo", "options": { "tag": ["possibleTag"] } } ?>
							<?copy { "fromId": "cit-example", "options": { "tag": ["possibleTag", "multibleSiblings"] } } ?>
						</re>
					</entry>
				</body>
			</text>
		</TEI>
	</objParserContent>

	<objParserSystem>
		<tags>
			<orth>
				<?options {
				 						"id": "orth",
										"title": "Orth",
										"value": ["variable", "required"],
										"attributes": [{
											"extent": {"type": "variable", "canBeEmpty": {"use": true}, "possibleValues": ["suff"]},
											"xml:lang": {"type": "variable", "canBeEmpty": {"use": true}, "possibleValues": ["gmh"]}
										}]
									} ?>
			</orth>
			<gram type="gender">
				<?options {
										"id": "gram-gender",
										"title": "Gram Pos",
										"value": ["variable", "required", {"is": {"value": "Neutrum", "possibleValues": ["Neutrum", "Masculinum", "Femininum"]}}]
									} ?>
			</gram><!-- Formatting Rule: wrap value of //gram[@type='gender'] in brackets -->
			<usg type="geo">
				<?options {
			 							"id": "usg-geo",
										"title": "Usg Geo",
										"tag": ["multiple"]
									} ?>
				<placeName>
					<?options {
											"title": "Place Name",
											"value": ["variable", "required"],
											"attributes": [{"type": {"type": "variable", "canBeEmpty": {"use": true}, "possibleValues": ["grossregion", "region"]}}],
											"tag": ["multiple"]
										} ?>
				</placeName>
			</usg>
			<cit type="example">
				<?options {
										"id": "cit-example",
										"title": "Cit Example",
										"tag": ["multiple", "possibleTag"]
									} ?>
				 <quote xml:lang="bar-AT">
					 <?options {
											"title": "Quote",
											"value": ["edit", "required"]
										} ?>
				 </quote>
				 <?copy {"fromId": "ref-bibl", "options": { "tag": ["possibleTag"] } } ?>
				 <?copy { "fromId": "usg-geo" } ?>
				 <!-- Formatting Rule: if /usg[@type='geo'/placeName[not(@)] print "u." between the values -->
			</cit>
			<ref type="bibl">
				<?options {
										"id": "ref-bibl",
										"title": "Bibl",
										"attributes": [{
											"target": {"type": "variable", "canBeEmpty": {"use": true}}
										}]
									} ?>
				<citedRange>
					<?options {
											"title": "Cited Range",
											"value": ["variable", "required"]
										} ?>
				</citedRange>
			</ref>
			<sense>
				<?options {
										"id": "sense",
										"title": "Sense",
										"tag": ["multiple"]
									} ?>
				<!-- below is a preliminary attempt  -->
				<ref type="form">
					<?options {
											"title": "Ref Form",
											"value": ["edit", "innerText"],
											"tag": ["possibleTag"]
										} ?>
				</ref><!-- Formatting rule: if target (/form[@type='variant' and @subtype='diminutive] print "(Dim.)");-->
				<def>
					<?options {
											"title": "Def",
											"value": ["edit", "required"]
										} ?>
				</def>
				<?copy { "fromId": "usg-geo" } ?>
				<?copy { "fromId": "cit-example", "options": { "tag": ["possibleTag", "multibleSiblings"] } } ?>
			</sense>
		</tags>
	</objParserSystem>
</objParser>
